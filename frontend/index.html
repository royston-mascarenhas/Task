<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Data to RabbitMQ</title>
    <script>
        async function sendData(event) {
            event.preventDefault();
            let csv =`Sr. No.,First Name,Last Name,Age,Height,Gender,Age,Height,Gender,Age,Height,Gender,Age,Height,Gender,Age,Height,Gender,Age,Height,Gender,Age
1,Roy,Mas,21,156,Male,291,426,Male,561,696,Male,831,966,Male,1101,1236,Male,1371,1506,Male,1641
2,Ash,Lop,22,151,Male,280,409,Male,538,667,Male,796,925,Male,1054,1163,Male,1312,1441,Male,1570
3,Rit,Kha,32,123,Female,214,305,Female,396,487,Female,578,669,Female,760,851,Female,942,1033,Female,1124
4,Man,Pat,12,21,Male,30,39,Male,48,57,Male,66,75,Male,84,93,Male,102,111,Male,120
5,Roh,Sin,3,234,Female,465,696,Female,927,1158,Female,1389,1620,Female,1851,2082,Female,2313,2544,Female,2775
6,Vir,Pat,22,11,Female,0,-11,Female,-22,-33,Female,-44,-55,Female,-66,-77,Female,-88,-99,Female,-110
7,Abhi,Man,41,23,Female,5,-13,Female,-31,-49,Female,-67,-85,Female,-103,-121,Female,-139,-157,Female,-175
8,Raj,Sin,22,21,Male,20,19,Male,18,17,Male,16,15,Male,14,13,Male,12,11,Male,10
9,Moh,Pree,35,1,Male,-33,-67,Male,-101,-135,Male,-169,-203,Male,-237,-271,Male,-305,-339,Male,-373
10,Ajay,Pra,11,161,Female,311,461,Female,611,761,Female,911,1061,Female,1211,1361,Female,1511,1661,Female,1811
11,Jake,Lew,28,181,Male,334,487,Male,640,793,Male,946,1099,Male,1252,1405,Male,1558,1711,Male,1864
12,Si,Mi,20,190,Male,360,530,Male,700,870,Male,1040,1210,Male,1380,1550,Male,1720,1890,Male,2060
13,Jos,Hil,11,121,Female,231,341,Female,451,561,Female,671,781,Female,891,1001,Female,1111,1221,Female,1331
14,Ale,Pie,22,191,Male,360,529,Male,698,867,Male,1036,1205,Male,1374,1543,Male,1712,1881,Male,2050
15,Yir,Pro,43,167,Female,291,415,Female,539,663,Female,787,911,Female,1035,1159,Female,1283,1407,Female,1531
16,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
17,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
18,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
19,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
20,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
21,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
22,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
23,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
24,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
25,Glo,Ter,23,191,Male,359,527,Male,695,863,Male,1031,1199,Male,1367,1535,Male,1703,1871,Male,2039
      `;
            const data = [{
                id: document.querySelector('#id').value,
                name: document.querySelector('#name').value,
                email: document.querySelector('#email').value

            },{
                id: document.querySelector('#id').value,
                name: document.querySelector('#name').value,
                email: document.querySelector('#email').value

            },{
                id: document.querySelector('#id').value,
                name: document.querySelector('#name').value,
                email: document.querySelector('#email').value

            }];
            try {
                const response = await fetch('http://localhost:5056/api/messages/send', {  
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    console.log('Data sent successfully');
                    alert('Data sent successfully');
                } else {
                    console.error('Error sending data');
                    alert('Error sending data');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error sending data');
            }
        }
    </script>
</head>
<body>
    <form onsubmit="sendData(event)">
        <label for="id">ID:</label>
        <input type="number" id="id" required><br>

        <label for="name">Name:</label>
        <input type="text" id="name" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" required><br>

        <button type="submit">Send Data</button>
    </form>
</body>
</html>
